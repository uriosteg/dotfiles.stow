# vim: syntax=zsh

autoload -Uz compinit && compinit
autoload -Uz colors && colors

zstyle ':completion:*' menu select                          # Set menu for auto-completition
zstyle ':completion:*' matcher-list 'm:{a-zA-Z}={A-Za-z}'   # Auto-completition is case insensitive
zstyle ':completion:*' list-colors ${(s.:.)LS_COLORS}       # Auto-completition with colors 

setopt autocd                                               # No need to type cd
setopt correct                                              # Correct spelling of commands
setopt promptsubst                                          # Enable prompt substitution
setopt completeinword                                       # Complete from both ends
setopt sharehistory                                         # Share history in all shells
setopt extendedhistory                                      # Put timestamp to the history file
setopt appendhistory                                        # Append to history
setopt histverify                                           # Show before executing history comands
setopt histreduceblanks                                     # Trim blanks
setopt histignoredups                                       # Do not write duplicates in history
setopt histreduceblanks                                     # Remove extra blanks of commands in history
setopt interactivecomments                                  # Pound sign in interactive prompt
setopt globdots                                             # Do not require a leading . in a filename to be matched
setopt extendedglob                                         # Treat the #, ~ and ^ characters as part of patterns for filename generation
setopt completealiases                                      # Auto-complete aliases
setopt chaselinks                                           # Resolve symlinks

bindkey -v                                                  # Vi mode

# Check if environment file exists, then load it
if [ -f $HOME/.environment ]; then
   source $HOME/.environment
fi

# Check if aliases file exists, then load it
if [ -f $HOME/.aliases ]; then
   source $HOME/.aliases
fi

# If functions file exists, then load it
if [ -f $HOME/.dotfiles/general/functions ]; then
   source $HOME/.dotfiles/general/functions
fi

# ZSH specific functions
if [ -f $HOME/.dotfiles/zsh/functions.zsh ];then
   source $HOME/.dotfiles/zsh/functions.zsh
fi

add_color

# Setup prompts
PS1=$'â””$DASH%n@%m%# '
RPS1=$'%?'
PS2=''
PS3=''
PS4=''

# FISH like syntax highlighting plugin
source $HOME/.dotfiles/zsh/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh 

# Override syntax highlighting style
source $HOME/.dotfiles/zsh/zsh-syntax-override.zsh
